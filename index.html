<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Be My Valentine ‚ù§Ô∏è</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI',cursive}
    body{height:100vh;overflow:hidden;background:#000;display:flex;justify-content:center;align-items:center;}

    .page{position:absolute;inset:0;display:flex;justify-content:center;align-items:center;flex-direction:column;opacity:0;pointer-events:none;transition:opacity 1s}
    .page.show{opacity:1;pointer-events:auto}

    #page1{opacity:1;pointer-events:auto;background:url('https://images.unsplash.com/photo-1518895949257-7621c3c786d7') center/cover no-repeat}
    #page1::after{content:'';position:absolute;inset:0;background:rgba(0,0,0,0.10)}

    .content{position:relative;z-index:2;color:#fff;text-align:center}
    h1{font-size:3rem;margin-bottom:30px;animation:pulse 2s infinite}
    @keyframes pulse{50%{transform:scale(1.05)}}

    .buttons{display:flex;gap:30px;justify-content:center;align-items:center}
    button{padding:15px 35px;font-size:1.2rem;border:none;border-radius:30px;cursor:pointer;transition:0.2s}
    #yesBtn{background:#ff4d6d;color:#fff;z-index:10}
    #noBtn{background:#fff;color:#333;position:relative;z-index:10}

    /* Emoji positioned just above the question and slightly bigger */
    #reactionEmoji{font-size:6rem;margin-left:20px;transition:0.3s;position:absolute;top:calc(50% - 180px);left:50%;transform:translateX(-50%);}

    .popup{position:fixed;inset:0;background:rgba(0,0,0,0.25);display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;transition:.3s;z-index:100}
    .popup.show{opacity:100;pointer-events:auto}
    .popup-box{
  background:#111;
  color:#fff;
  padding:30px 40px;
  border-radius:15px;
  font-size:1.6rem;
  text-align:center;
  min-width:250px;
  max-width:9010
  word-wrap:break-word;
  opacity:1;
}

    #page2{background:#000;display:flex;justify-content:center;align-items:center;flex-direction:column;position:fixed;inset:0;}
    .fade-image{object-fit:cover;width:60%;max-width:500px;border-radius:15px;opacity:20;transition:opacity 2s;z-index:1;margin-bottom:20px;}

    .final-text{
  color:#fff;
  text-align:center;
  max-width:90%;
  background:rgba(0,0,0,0.3); /* was 0.5 ‚Üí lighter background */
  padding:20px 30px;
  border-radius:15px;
  position:relative;
  z-index:10;
}
    .final-text h2{font-size:3rem;margin-bottom:15px}
    .final-text p{font-size:1.5rem}
    .final-text h2,
    .final-text p{
  text-shadow: 0 0 10px rgba(255,255,255,0.6);
}


    .typing::after{content:'|';animation:blink 1s infinite}
    @keyframes blink{50%{opacity:0}}

    .heartbeat{animation:heartbeat 1.2s infinite}
    @keyframes heartbeat{30%{box-shadow:0 0 25px rgba(255,77,109,.6)}}

    .wash{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:3;

  /* vignette: clear center, soft shaded edges */
  background:
    radial-gradient(
      ellipse at center,
      rgba(0,0,0,0) 55%,
      rgba(255,120,160,0.08) 70%,
      rgba(255,90,140,0.16) 85%,
      rgba(255,70,120,0.22) 100%
    );

  opacity:0;
  transition: opacity 1.8s ease;
}

.wash.show{
  opacity:1;
}

@keyframes washPulse{
  0%,100%{ opacity:0.85 }
  50%{ opacity:1 }
}

.wash.show{
  animation: washPulse 6s ease-in-out infinite;
}


    .petal{position:fixed;top:-40px;width:36px;height:36px;background:radial-gradient(circle,#ff758f,#ff1e56);border-radius:50% 50% 50% 0;transform:rotate(45deg);animation:fall linear infinite;z-index:4}
    @keyframes fall{to{transform:translateY(110vh) rotate(360deg);opacity:0}}

    .envelope{position:fixed;bottom:8%;left:10%;transform:translateX(-50%);width:170px;height:140px;background:#ff4d6d;border-radius:8px;display:none;z-index:5}
    .envelope::before{content:'';position:absolute;inset:0;clip-path:polygon(0 0,100% 0,50% 60%);background:#ff758f}
    .letter{position:absolute;left:10px;right:10px;bottom:10px;height:0;background:#fff;border-radius:6px;padding:14px;overflow:hidden;transition:1.2s;text-align:center;font-weight:600}
    .envelope.open .letter{height:90px}

    .spark{position:fixed;width:20px;height:20px;border-radius:50%;background:currentColor;animation:spark .9s forwards;z-index:5}
    @keyframes spark{to{transform:translate(var(--dx),var(--dy)) scale(0);opacity:0}}
  </style>
</head>
<body>

<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_9e1c3b8c63.mp3" type="audio/mpeg">
</audio>

<div class="page" id="page1">
  <div class="content" id="page1Content">
    <h1>Will You Be My Valentine? üåπ</h1>
    <div class="buttons">
      <button id="yesBtn">Yes ‚ù§Ô∏è</button>
      <button id="noBtn">No üíî</button>
    </div>
    <span id="reactionEmoji">ü§û</span>
  </div>
</div>

<div class="popup" id="popup">
  <div class="popup-box" id="popupTextBox">
    <div id="popupText"></div>
    <button id="popupYesBtn">Yes ‚ù§Ô∏è</button>
  </div>
</div>

<div class="wash" id="wash"></div>
<div class="envelope" id="envelope"><div class="letter">I choose you üíå</div></div>

<div class="page" id="page2">
  <div class="popup show">
    <div class="popup-box">
      <img class="fade-image" id="usPhoto" src="image.jpeg" alt="Us Together" />
      <div class="final-text" id="finalBox">
        <h2>Congratulations üíñ</h2>
        <p>Click yes to go back home!</p>
      </div>
    </div>
  </div>
</div>

<script>
const noBtn=document.getElementById('noBtn');
const yesBtn=document.getElementById('yesBtn');
const popup=document.getElementById('popup');
const popupText=document.getElementById('popupText');
const popupYesBtn=document.getElementById('popupYesBtn');
const music=document.getElementById('bgMusic');
const wash=document.getElementById('wash');
const envelope=document.getElementById('envelope');
const usPhoto=document.getElementById('usPhoto');
const reactionEmoji=document.getElementById('reactionEmoji');
const page1Content=document.getElementById('page1Content');
const page2=document.getElementById('page2');
const finalYesBtn=document.getElementById('finalYesBtn');

let noCount=0;
let yesScale=1;
let popupStep=0;
const popupMessages=['Really? üò≥','You sure about that? üò∂','ma mandina,<br> jau <br>Error 404 ‚ùå lu'];

function showPopup(msg){
  popupText.innerHTML=msg;
  popup.classList.add('show');
}

function hidePopup(){
  popup.classList.remove('show');
}

function handlePopupYes(){
  popupStep++;
  if(popupStep<popupMessages.length){
    showPopup(popupMessages[popupStep]);
  } else {
    hidePopup();
    page2.classList.remove('show');
    page1Content.style.display='flex';
    reactionEmoji.textContent='ü§û';
    page1Content.querySelector('button#yesBtn').style.transform='scale(1)';
    noCount=0;
    popupStep=0;
  }
}

function triggerYes(){
  reactionEmoji.textContent='üòÅ';
  page1Content.style.display='none';
  hidePopup();
  music.play();
  page2.classList.add('show');
  wash.classList.add('show');
  yesBtn.classList.add('heartbeat');

  if(navigator.vibrate) navigator.vibrate([200,100,200]);
  usPhoto.style.opacity='1';
  const text='Congratulations üíñ You got me forever.';
  const p=document.querySelector('.final-text p');
  p.textContent='';p.classList.add('typing');
  let i=0;
  const typer=setInterval(()=>{p.textContent+=text[i++];if(i>=text.length){clearInterval(typer);p.classList.remove('typing')}},65);

  setInterval(()=>{
    const petal=document.createElement('div');
    petal.className='petal';
    petal.style.left=Math.random()*window.innerWidth+'px';
    petal.style.animationDuration=5+Math.random()*5+'s';
    document.body.appendChild(petal);
    setTimeout(()=>petal.remove(),10000);
  },260);

  envelope.style.display='block';
  setTimeout(()=>envelope.classList.add('open'),1200);

  const colors=['#ff4d6d','#ff758f','#ffd166','#fff'];
  setInterval(()=>{
    const x=Math.random()*innerWidth,y=Math.random()*innerHeight*.6;
    for(let i=0;i<26;i++){
      const s=document.createElement('div');
      s.className='spark';
      s.style.left=x+'px';s.style.top=y+'px';
      s.style.color=colors[Math.floor(Math.random()*colors.length)];
      const a=Math.random()*Math.PI*2,d=60+Math.random()*120;
      s.style.setProperty('--dx',Math.cos(a)*d+'px');
      s.style.setProperty('--dy',Math.sin(a)*d+'px');
      document.body.appendChild(s);
      setTimeout(()=>s.remove(),900);
    }
  },2200);
}

noBtn.addEventListener('click',()=>{
  noCount++;
  yesScale+=0.15;
  yesBtn.style.transform=`scale(${yesScale})`;
  reactionEmoji.textContent='üò¢';
  showPopup(popupMessages[popupStep]);
});

yesBtn.addEventListener('click',triggerYes);
popupYesBtn.addEventListener('click',handlePopupYes);
finalYesBtn.addEventListener('click',()=>{
  page2.classList.remove('show');
  page1Content.style.display='flex';
  reactionEmoji.textContent='ü§û';
  yesBtn.style.transform='scale(1)';
  noCount=0;
  popupStep=0;
});
</script>
</body>
</html>
